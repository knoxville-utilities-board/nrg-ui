{"version":3,"file":"ensure-path-exists.js","sources":["../../src/utils/ensure-path-exists.ts"],"sourcesContent":["export function ensurePathExists(object: object, path: string) {\n  const keys = path.split?.('.');\n  ensure(object as Record<string, unknown>, keys);\n}\n\nfunction ensure(object: Record<string, unknown>, keys: string[]) {\n  const key = keys?.[0];\n  const nextKey = keys?.[1];\n\n  if (!key || !nextKey) {\n    return;\n  }\n\n  if (typeof object[key] === 'undefined') {\n    const index = parseInt(nextKey);\n    const isArray = Number.isInteger(index);\n\n    if (isArray) {\n      const newArray = [];\n      newArray[index] = {};\n      object[key] = newArray;\n      ensure((object[key] as unknown[])[index] as Record<string, unknown>, keys.slice(2));\n      return;\n    }\n\n    object[key] = {};\n  }\n\n  ensure(object[key] as Record<string, unknown>, keys.slice(1));\n}\n\nexport default {\n  ensurePathExists,\n};\n"],"names":["ensurePathExists","object","path","keys","split","ensure","key","nextKey","index","parseInt","isArray","Number","isInteger","newArray","slice"],"mappings":"AAAO,SAASA,gBAAgBA,CAACC,MAAc,EAAEC,IAAY,EAAE;AAC7D,EAAA,MAAMC,IAAI,GAAGD,IAAI,CAACE,KAAK,GAAG,GAAG,CAAC;AAC9BC,EAAAA,MAAM,CAACJ,MAAM,EAA6BE,IAAI,CAAC;AACjD;AAEA,SAASE,MAAMA,CAACJ,MAA+B,EAAEE,IAAc,EAAE;AAC/D,EAAA,MAAMG,GAAG,GAAGH,IAAI,GAAG,CAAC,CAAC;AACrB,EAAA,MAAMI,OAAO,GAAGJ,IAAI,GAAG,CAAC,CAAC;AAEzB,EAAA,IAAI,CAACG,GAAG,IAAI,CAACC,OAAO,EAAE;AACpB,IAAA;AACF,EAAA;AAEA,EAAA,IAAI,OAAON,MAAM,CAACK,GAAG,CAAC,KAAK,WAAW,EAAE;AACtC,IAAA,MAAME,KAAK,GAAGC,QAAQ,CAACF,OAAO,CAAC;AAC/B,IAAA,MAAMG,OAAO,GAAGC,MAAM,CAACC,SAAS,CAACJ,KAAK,CAAC;AAEvC,IAAA,IAAIE,OAAO,EAAE;MACX,MAAMG,QAAQ,GAAG,EAAE;AACnBA,MAAAA,QAAQ,CAACL,KAAK,CAAC,GAAG,EAAE;AACpBP,MAAAA,MAAM,CAACK,GAAG,CAAC,GAAGO,QAAQ;AACtBR,MAAAA,MAAM,CAAEJ,MAAM,CAACK,GAAG,CAAC,CAAeE,KAAK,CAAC,EAA6BL,IAAI,CAACW,KAAK,CAAC,CAAC,CAAC,CAAC;AACnF,MAAA;AACF,IAAA;AAEAb,IAAAA,MAAM,CAACK,GAAG,CAAC,GAAG,EAAE;AAClB,EAAA;AAEAD,EAAAA,MAAM,CAACJ,MAAM,CAACK,GAAG,CAAC,EAA6BH,IAAI,CAACW,KAAK,CAAC,CAAC,CAAC,CAAC;AAC/D;AAEA,+BAAe;AACbd,EAAAA;AACF,CAAC;;;;"}