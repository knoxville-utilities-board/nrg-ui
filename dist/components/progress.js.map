{"version":3,"file":"progress.js","sources":["../../src/components/progress.gts"],"sourcesContent":["import { htmlSafe } from '@ember/template';\nimport Component from '@glimmer/component';\n\nimport type { TOC } from '@ember/component/template-only';\nimport type { ComponentLike } from '@glint/template';\n\nexport interface SegmentSignature {\n  Element: HTMLDivElement;\n  Args: {\n    animated?: boolean;\n    hideLabel?: boolean;\n    label?: string;\n    multiple?: boolean;\n    progress?: number;\n    striped?: boolean;\n    title?: string;\n  };\n}\n\nexport interface ProgressSignature {\n  Element: HTMLDivElement;\n  Args: {\n    animated?: boolean;\n    hideLabel?: boolean;\n    label?: string;\n    striped?: boolean;\n    title?: string;\n  } & (\n    | {\n        stacked: true;\n      }\n    | {\n        stacked?: false;\n        progress: number;\n      }\n  );\n  Blocks: {\n    default?: [ComponentLike<SegmentSignature>];\n  };\n}\n\nclass Segment extends Component<SegmentSignature> {\n  get classList() {\n    const classes = ['progress-bar'];\n\n    if (this.args.striped) {\n      classes.push('progress-bar-striped');\n    }\n\n    if (this.args.animated) {\n      classes.push('progress-bar-animated');\n    }\n\n    return classes.join(' ');\n  }\n\n  get label() {\n    const { label, progress } = this.args;\n\n    return label ?? `${progress}%`;\n  }\n\n  get widthStyle() {\n    return htmlSafe(`width: ${this.args.progress}%`);\n  }\n\n  <template>\n    <div\n      aria-label={{@title}}\n      aria-valuemin=\"0\"\n      aria-valuemax=\"100\"\n      aria-valuenow={{@progress}}\n      class=\"progress\"\n      role=\"progressbar\"\n      style={{if @multiple this.widthStyle}}\n      title={{@title}}\n    >\n      <div class={{this.classList}} style={{unless @multiple this.widthStyle}} ...attributes>\n        {{#unless @hideLabel}}\n          {{this.label}}\n        {{/unless}}\n      </div>\n    </div>\n  </template>\n}\n\nconst Progress: TOC<ProgressSignature> = <template>\n  {{#if @stacked}}\n    <div class=\"progress-stacked\" ...attributes>\n      {{yield\n        (component Segment animated=@animated hideLabel=@hideLabel multiple=true striped=@striped)\n      }}\n    </div>\n  {{else}}\n    <Segment\n      @animated={{@animated}}\n      @hideLabel={{@hideLabel}}\n      @label={{@label}}\n      @multiple={{false}}\n      @progress={{@progress}}\n      @striped={{@striped}}\n      @title={{@title}}\n      ...attributes\n    />\n  {{/if}}\n</template>;\n\nexport default Progress;\n"],"names":["Segment","Component","classList","classes","args","striped","push","animated","join","label","progress","widthStyle","htmlSafe","setComponentTemplate","precompileTemplate","strictMode","Progress","scope","templateOnly"],"mappings":";;;;;;AAyCA,MAAMA,gBAAgBC,SAAA,CAAU;EAC9B,IAAIC,SAAAA,GAAY;AACd,IAAA,MAAMC,OAAA,GAAU,CAAC,cAAA,CAAe;AAEhC,IAAA,IAAI,IAAI,CAACC,IAAI,CAACC,OAAO,EAAE;AACrBF,MAAAA,OAAA,CAAQG,IAAI,CAAC,sBAAA,CAAA;AACf,IAAA;AAEA,IAAA,IAAI,IAAI,CAACF,IAAI,CAACG,QAAQ,EAAE;AACtBJ,MAAAA,OAAA,CAAQG,IAAI,CAAC,uBAAA,CAAA;AACf,IAAA;AAEA,IAAA,OAAOH,OAAA,CAAQK,IAAI,CAAC,GAAA,CAAA;AACtB,EAAA;EAEA,IAAIC,KAAAA,GAAQ;IACV,MAAM;MAAEA,KAAK;AAAEC,MAAAA;KAAU,GAAG,IAAI,CAACN,IAAI;AAErC,IAAA,OAAOK,KAAA,IAAS,CAAA,EAAGC,QAAA,CAAA,CAAA,CAAW;AAChC,EAAA;EAEA,IAAIC,UAAAA,GAAa;IACf,OAAOC,QAAA,CAAS,CAAA,OAAA,EAAU,IAAI,CAACR,IAAI,CAACM,QAAQ,CAAA,CAAA,CAAG,CAAA;AACjD,EAAA;AAEA,EAAA;IAAAG,oBAAA,CAAAC,kBAAA,CAAA,mXAAA,EAiBA;MAAAC,UAAA,EAAA;KAAU,CAAA,EAAV,IAAW,CAAA;AAAD;AACZ;AAEA,MAAMC,QAAc,GAAAH,oBAAA,CAAqBC,kBAAA,CAAA,gYAAA,EAmBzC;EAAAC,UAAA,EAAA,IAAA;AAAAE,EAAAA,KAAA,EAAAA,OAAA;AAAAjB,IAAAA;AAAA,GAAA;AAAU,CAAA,CAAA,EAAAkB,YAAA,EAAA;;;;"}