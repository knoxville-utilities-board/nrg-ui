{"version":3,"file":"button.js","sources":["../../src/components/button.gts"],"sourcesContent":["import { on } from '@ember/modifier';\nimport { action } from '@ember/object';\nimport Component from '@glimmer/component';\nimport { t } from 'ember-intl';\nimport { or } from 'ember-truth-helpers';\n\nimport type { ButtonGroupType } from './button-group.gts';\nimport type { IconType } from '../';\n\nexport interface ButtonSignature {\n  Element: HTMLButtonElement;\n  Args: {\n    _class?: string;\n    disabled?: boolean;\n    group?: ButtonGroupType;\n    icon?: IconType;\n    iconPosition?: 'right' | 'left' | 'center';\n    iconLabel?: string;\n    loading?: boolean;\n    text?: string;\n    type?: 'button' | 'submit';\n    onClick?: (evt: MouseEvent) => unknown;\n  };\n  Blocks: {\n    default?: [];\n  };\n}\n\nexport default class Button extends Component<ButtonSignature> {\n  get classList() {\n    const classes = [\n      'btn',\n      'position-relative',\n      'd-inline-flex',\n      'justify-content-center',\n      'align-items-center',\n    ];\n\n    if (this.args._class) {\n      classes.push(this.args._class);\n    }\n\n    if (this.args.loading) {\n      classes.push('loading');\n    }\n\n    if (this.args.disabled) {\n      classes.push('disabled');\n    }\n\n    return classes.join(' ');\n  }\n\n  get disabled() {\n    return this.args.disabled || this.args.loading;\n  }\n\n  get hasIcon() {\n    return Boolean(this.args.icon);\n  }\n\n  get isLeftAlignedIcon() {\n    return this.hasIcon && (this.args.iconPosition === 'left' || !this.args.iconPosition);\n  }\n\n  get isRightAlignedIcon() {\n    return this.hasIcon && this.args.iconPosition === 'right';\n  }\n\n  get isCenterAlignedIcon() {\n    return this.hasIcon && this.args.iconPosition === 'center';\n  }\n\n  @action\n  onClick(evt: MouseEvent) {\n    this.args.onClick?.(evt);\n\n    this.args.group?.onClick(evt);\n  }\n\n  <template>\n    <button\n      class={{this.classList}}\n      disabled={{this.disabled}}\n      type={{or @type \"button\"}}\n      aria-disabled={{if this.disabled \"true\"}}\n      {{on \"click\" this.onClick}}\n      ...attributes\n    >\n      {{#if @loading}}\n        <span class=\"spinner-border spinner-border-sm position-absolute\" aria-hidden=\"true\"></span>\n        <span class=\"visually-hidden\" role=\"status\">\n          {{t \"nrg.base.loading\"}}\n        </span>\n      {{/if}}\n\n      {{#if this.isLeftAlignedIcon}}\n        <i class=\"me-1 {{@icon}}\" aria-label={{@iconLabel}}></i>\n      {{/if}}\n\n      <span class=\"content\">\n        {{#if this.isCenterAlignedIcon}}\n          <i class=\"{{@icon}}\" aria-label={{@iconLabel}}></i>\n        {{else if (has-block)}}\n          {{yield}}\n        {{else}}\n          {{@text}}\n        {{/if}}\n      </span>\n\n      {{#if this.isRightAlignedIcon}}\n        <i class=\"ms-1 {{@icon}}\" aria-label={{@iconLabel}}></i>\n      {{/if}}\n\n    </button>\n  </template>\n}\n"],"names":["Button","Component","classList","classes","args","_class","push","loading","disabled","join","hasIcon","Boolean","icon","isLeftAlignedIcon","iconPosition","isRightAlignedIcon","isCenterAlignedIcon","onClick","evt","group","n","prototype","action","setComponentTemplate","precompileTemplate","strictMode","scope","or","on","t"],"mappings":";;;;;;;;;AA4Be,MAAMA,eAAeC,SAAA,CAAU;EAC5C,IAAIC,SAAAA,GAAY;AACd,IAAA,MAAMC,OAAA,GAAU,CACd,KAAA,EACA,mBAAA,EACA,eAAA,EACA,wBAAA,EACA,oBAAA,CACD;AAED,IAAA,IAAI,IAAI,CAACC,IAAI,CAACC,MAAM,EAAE;MACpBF,OAAA,CAAQG,IAAI,CAAC,IAAI,CAACF,IAAI,CAACC,MAAM,CAAA;AAC/B,IAAA;AAEA,IAAA,IAAI,IAAI,CAACD,IAAI,CAACG,OAAO,EAAE;AACrBJ,MAAAA,OAAA,CAAQG,IAAI,CAAC,SAAA,CAAA;AACf,IAAA;AAEA,IAAA,IAAI,IAAI,CAACF,IAAI,CAACI,QAAQ,EAAE;AACtBL,MAAAA,OAAA,CAAQG,IAAI,CAAC,UAAA,CAAA;AACf,IAAA;AAEA,IAAA,OAAOH,OAAA,CAAQM,IAAI,CAAC,GAAA,CAAA;AACtB,EAAA;EAEA,IAAID,QAAAA,GAAW;IACb,OAAO,IAAI,CAACJ,IAAI,CAACI,QAAQ,IAAI,IAAI,CAACJ,IAAI,CAACG,OAAO;AAChD,EAAA;EAEA,IAAIG,OAAAA,GAAU;AACZ,IAAA,OAAOC,OAAA,CAAQ,IAAI,CAACP,IAAI,CAACQ,IAAI,CAAA;AAC/B,EAAA;EAEA,IAAIC,iBAAAA,GAAoB;AACtB,IAAA,OAAO,IAAI,CAACH,OAAO,KAAK,IAAI,CAACN,IAAI,CAACU,YAAY,KAAK,MAAA,IAAU,CAAC,IAAI,CAACV,IAAI,CAACU,YAAY,CAAA;AACtF,EAAA;EAEA,IAAIC,kBAAAA,GAAqB;IACvB,OAAO,IAAI,CAACL,OAAO,IAAI,IAAI,CAACN,IAAI,CAACU,YAAY,KAAK,OAAA;AACpD,EAAA;EAEA,IAAIE,mBAAAA,GAAsB;IACxB,OAAO,IAAI,CAACN,OAAO,IAAI,IAAI,CAACN,IAAI,CAACU,YAAY,KAAK,QAAA;AACpD,EAAA;EAGAG,OAAAA,CAAQC,GAAe,EAAE;AACvB,IAAA,IAAI,CAACd,IAAI,CAACa,OAAO,GAAGC,GAAA,CAAA;IAEpB,IAAI,CAACd,IAAI,CAACe,KAAK,EAAEF,OAAA,CAAQC,GAAA,CAAA;AAC3B,EAAA;AAAA,EAAA;IAAAE,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,SAAA,EAAA,CALCC,MAAA,CAAA,CAAA;AAAA;AAOD,EAAA;IAAAC,oBAAA,CAAAC,kBAAA,CAAA,82BAAA,EAmCA;MAAAC,UAAA,EAAA,IAAA;AAAAC,MAAAA,KAAA,EAAAA,OAAA;QAAAC,EAAA;QAAAC,EAAA;AAAAC,QAAAA;AAAA,OAAA;KAAU,CAAA,EAAV,IAAW,CAAA;AAAD;AACZ;;;;"}