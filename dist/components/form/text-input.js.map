{"version":3,"file":"text-input.js","sources":["../../../src/components/form/text-input.gts"],"sourcesContent":["import { fn } from '@ember/helper';\nimport { on } from '@ember/modifier';\nimport { action } from '@ember/object';\nimport { tracked } from '@glimmer/tracking';\n\nimport InputField from './-private/input-field.ts';\n\nimport type { Optional } from '../../index.ts';\n\nexport interface TextInputArgs {\n  format?: ((value: Optional<string>) => string) | false;\n}\n\nexport default class TextInput extends InputField<TextInputArgs> {\n  @tracked\n  isFocused = false;\n\n  get displayValue() {\n    const { format } = this.args;\n    const { isFocused, value } = this;\n\n    if (isFocused || !format || !value) {\n      return value;\n    }\n\n    if (typeof format === 'function') {\n      return format(value);\n    }\n\n    return value;\n  }\n\n  @action\n  toggleFocus(isFocused: boolean) {\n    this.isFocused = isFocused;\n  }\n\n  <template>\n    <input\n      aria-describedby={{@fieldOptions.describedBy}}\n      class={{this.classList}}\n      disabled={{@fieldOptions.disabled}}\n      id={{@fieldOptions.id}}\n      readonly={{@readonly}}\n      type=\"text\"\n      value={{this.displayValue}}\n      {{on \"input\" this.change}}\n      {{on \"focus\" (fn this.toggleFocus true)}}\n      {{on \"blur\" (fn this.toggleFocus false)}}\n      ...attributes\n    />\n  </template>\n}\n"],"names":["TextInput","InputField","g","prototype","tracked","i","displayValue","format","args","isFocused","value","toggleFocus","n","action","setComponentTemplate","precompileTemplate","strictMode","scope","on","fn"],"mappings":";;;;;;;;;AAae,MAAMA,kBAAkBC,UAAA,CAAW;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,WAAA,EAAA,CAC/CC,OAAA,CAAA,EAAA,YAAA;AAAA,MAAA,OACW,KAAA;AAAA,IAAA,CAAA,CAAA;AAAA;EAAA,UAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,WAAA,CAAA,EAAA,MAAA;EAEZ,IAAIC,YAAAA,GAAe;IACjB,MAAM;AAAEC,MAAAA;KAAQ,GAAG,IAAI,CAACC,IAAI;IAC5B,MAAM;MAAEC,SAAS;AAAEC,MAAAA;AAAK,KAAE,GAAG,IAAI;AAEjC,IAAA,IAAID,SAAA,IAAa,CAACF,MAAA,IAAU,CAACG,KAAA,EAAO;AAClC,MAAA,OAAOA,KAAA;AACT,IAAA;AAEA,IAAA,IAAI,OAAOH,WAAW,UAAA,EAAY;MAChC,OAAOA,MAAA,CAAOG,KAAA,CAAA;AAChB,IAAA;AAEA,IAAA,OAAOA,KAAA;AACT,EAAA;EAGAC,WAAAA,CAAYF,SAAkB,EAAE;IAC9B,IAAI,CAACA,SAAS,GAAGA,SAAA;AACnB,EAAA;AAAA,EAAA;IAAAG,CAAA,CAAA,IAAA,CAAAT,SAAA,EAAA,aAAA,EAAA,CAHCU,MAAA,CAAA,CAAA;AAAA;AAKD,EAAA;IAAAC,oBAAA,CAAAC,kBAAA,CAAA,mVAAA,EAcA;MAAAC,UAAA,EAAA,IAAA;AAAAC,MAAAA,KAAA,EAAAA,OAAA;QAAAC,EAAA;AAAAC,QAAAA;AAAA,OAAA;KAAU,CAAA,EAAV,IAAW,CAAA;AAAD;AACZ;;;;"}