{"version":3,"file":"alert.js","sources":["../../src/components/alert.gts"],"sourcesContent":["import { on } from '@ember/modifier';\nimport { action } from '@ember/object';\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport { cssTransition } from 'ember-css-transitions';\nimport { t } from 'ember-intl';\n\nimport type { IconType } from '../';\n\nexport const alertTypes = [\n  'primary',\n  'secondary',\n  'success',\n  'danger',\n  'warning',\n  'info',\n  'light',\n  'dark',\n] as const;\n\nexport type AlertType = (typeof alertTypes)[number];\n\nexport interface AlertSignature {\n  Element: HTMLDivElement;\n  Args: {\n    dismissible?: boolean;\n    icon?: IconType;\n    text?: string;\n    type?: AlertType;\n    onDismiss?: () => unknown;\n  };\n  Blocks: {\n    default?: [];\n  };\n}\n\nexport default class Alert extends Component<AlertSignature> {\n  @tracked\n  visible = true;\n\n  get type() {\n    return this.args.type ?? 'primary';\n  }\n\n  get classList() {\n    const classes = ['alert', `alert-${this.type}`];\n\n    if (this.args.dismissible) {\n      classes.push('alert-dismissible');\n    }\n\n    classes.push('show');\n    classes.push('fade');\n\n    return classes.join(' ');\n  }\n\n  @action\n  onDismiss() {\n    if (!this.args.dismissible) {\n      return;\n    }\n    this.visible = false;\n  }\n\n  @action\n  onDismissed() {\n    this.args.onDismiss?.();\n  }\n\n  <template>\n    {{#if this.visible}}\n      <div\n        class={{this.classList}}\n        role=\"alert\"\n        {{cssTransition\n          leaveClass=\"show\"\n          leaveActiveClass=\"show\"\n          leaveToClass=\"hide\"\n          didTransitionOut=this.onDismissed\n        }}\n        ...attributes\n      >\n        {{#if @icon}}\n          <i class={{@icon}} />\n        {{/if}}\n        {{#if @text}}\n          {{@text}}\n        {{else if (has-block)}}\n          {{yield}}\n        {{/if}}\n        {{#if @dismissible}}\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            aria-label={{t \"nrg.base.close\"}}\n            {{on \"click\" this.onDismiss}}\n          ></button>\n        {{/if}}\n      </div>\n    {{/if}}\n  </template>\n}\n"],"names":["alertTypes","Alert","Component","g","prototype","tracked","i","type","args","classList","classes","dismissible","push","join","onDismiss","visible","n","action","onDismissed","setComponentTemplate","precompileTemplate","strictMode","scope","cssTransition","t","on"],"mappings":";;;;;;;;;;MASaA,UAAA,GAAa,CACxB,SAAA,EACA,WAAA,EACA,SAAA,EACA,QAAA,EACA,SAAA,EACA,MAAA,EACA,OAAA,EACA,MAAA;AAmBa,MAAMC,cAAcC,SAAA,CAAU;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,SAAA,EAAA,CAC1CC,OAAA,CAAA,EAAA,YAAA;AAAA,MAAA,OACS,IAAA;AAAA,IAAA,CAAA,CAAA;AAAA;EAAA,QAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,SAAA,CAAA,EAAA,MAAA;EAEV,IAAIC,IAAAA,GAAO;AACT,IAAA,OAAO,IAAI,CAACC,IAAI,CAACD,IAAI,IAAI,SAAA;AAC3B,EAAA;EAEA,IAAIE,SAAAA,GAAY;IACd,MAAMC,OAAA,GAAU,CAAC,OAAA,EAAS,SAAS,IAAI,CAACH,IAAI,CAAA,CAAE,CAAC;AAE/C,IAAA,IAAI,IAAI,CAACC,IAAI,CAACG,WAAW,EAAE;AACzBD,MAAAA,OAAA,CAAQE,IAAI,CAAC,mBAAA,CAAA;AACf,IAAA;AAEAF,IAAAA,OAAA,CAAQE,IAAI,CAAC,MAAA,CAAA;AACbF,IAAAA,OAAA,CAAQE,IAAI,CAAC,MAAA,CAAA;AAEb,IAAA,OAAOF,OAAA,CAAQG,IAAI,CAAC,GAAA,CAAA;AACtB,EAAA;AAGAC,EAAAA,SAAAA,GAAY;AACV,IAAA,IAAI,CAAC,IAAI,CAACN,IAAI,CAACG,WAAW,EAAE;AAC1B,MAAA;AACF,IAAA;IACA,IAAI,CAACI,OAAO,GAAG,KAAA;AACjB,EAAA;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAZ,SAAA,EAAA,WAAA,EAAA,CANCa,MAAA,CAAA,CAAA;AAAA;AASDC,EAAAA,WAAAA,GAAc;AACZ,IAAA,IAAI,CAACV,IAAI,CAACM,SAAS,IAAA;AACrB,EAAA;AAAA,EAAA;IAAAE,CAAA,CAAA,IAAA,CAAAZ,SAAA,EAAA,aAAA,EAAA,CAHCa,MAAA,CAAA,CAAA;AAAA;AAKD,EAAA;IAAAE,oBAAA,CAAAC,kBAAA,CAAA,oiBAAA,EA+BA;MAAAC,UAAA,EAAA,IAAA;AAAAC,MAAAA,KAAA,EAAAA,OAAA;QAAAC,aAAA;QAAAC,CAAA;AAAAC,QAAAA;AAAA,OAAA;KAAU,CAAA,EAAV,IAAW,CAAA;AAAD;AACZ;;;;"}